import{d as h,v as w,x,A as l,a3 as v,l as y,D as o,I as g,f as i,u as d,G as V,w as B,ab as U,J as b,o as k,B as C}from"./index-NT2W6lgv.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-8pZqWBuw.js";const R={class:"absolute inset-0 flex-center"},$={class:"w-1/3 border rounded-md"},A=o("h1",{class:"font-medium text-xl"}," welcome to skillchain ",-1),F=o("p",{class:"text-muted-foreground text-sm mt-0.5"}," you first need to create a username ",-1),E=h({__name:"register",async setup(M){let s,r;const n=w(),c=U(),m=([s,r]=x(()=>n.getUserFactory()),s=await s,r(),s),u=l(),t=l("");v(()=>{var a;(a=u.value)==null||a.$el.focus(),n.isRegistered&&c.push("/")});async function _(){const e=await(await m.registerUser(t.value)).wait();(e==null?void 0:e.status)===1&&(await n.fetchUser(),c.push("/"))}return(a,e)=>{const f=b;return k(),y("div",R,[o("div",$,[o("form",{class:"p-5",onSubmit:g(_,["prevent"])},[A,F,i(d(N),{ref_key:"input",ref:u,modelValue:d(t),"onUpdate:modelValue":e[0]||(e[0]=p=>V(t)?t.value=p:null),class:"mt-5",placeholder:"username"},null,8,["modelValue"]),i(f,{class:"mt-3 w-full"},{default:B(()=>[C(" register ")]),_:1})],32)])])}}});export{E as default};
